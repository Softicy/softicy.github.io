(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{97442:function(e,t,n){Promise.resolve().then(n.bind(n,99289)),Promise.resolve().then(n.bind(n,31874)),Promise.resolve().then(n.bind(n,74469)),Promise.resolve().then(n.bind(n,62287)),Promise.resolve().then(n.t.bind(n,22147,23))},37869:function(e,t,n){"use strict";n.d(t,{TX:function(){return c},lH:function(){return u},pH:function(){return a},uL:function(){return l},z$:function(){return i}});var o=n(20505);let r="RequiresAdditionalAuthentication";async function a(e,t,n){let r=o.Hv.login.login(e,n);return await (0,o.ET)(r,n,{password:t})}let i=e=>401===e.statusCode&&e.name===r,u=()=>({name:r,statusCode:401});async function c(e,t){let n=o.Hv.login.logout(e);try{await (0,o.ET)(n,e,{accessToken:t})}catch(e){console.log("Error when logging out",e)}}async function l(e,t){let n=o.Hv.login.auth;return await (0,o.ET)(n,t,{accessToken:e})}},84277:function(e,t,n){"use strict";n(43503);var o=n(99976);t.Z=(0,o.$)("ae4a03dbbec3fbf5bbcb75d7b9920d5f17bd6cf9")},88653:function(e,t,n){"use strict";n.d(t,{V:function(){return o}});let o=(0,n(7653).createContext)({})},99289:function(e,t,n){"use strict";n.d(t,{AuthProvider:function(){return b}});var o,r,a=n(27573),i=n(7653),u=n(88653),c=n(37869),l=n(81695);n(85955);let s=()=>{let e=window.location.hostname.split("."),t=e[e.length-1];return"com"===t?new URLSearchParams(window.location.search).get("countryCode")||"nl":t};var d=n(99114),f=n(42700);(o=r||(r={})).INITIAL="INITIAL",o.LOGIN="LOGIN",o.REGISTER="REGISTER",o.LOGOUT="LOGOUT";let g={user:null,loading:!0},p=(e,t)=>"INITIAL"===t.type?{loading:!1,user:t.payload.user,captcha:!1}:"LOGIN"===t.type?{...e,user:t.payload.user}:"LOGOUT"===t.type?{...e,user:null}:e;function b(e){let{children:t}=e,[n,o]=(0,i.useReducer)(p,g),r=(0,l.useRouter)(),b=(0,i.useCallback)(async()=>{try{let e=(0,f.ej)(d.Wx);if(e){let t=s(),n=await (0,c.uL)(e,t);(0,d.nP)(e),o({type:"INITIAL",payload:{user:{accessToken:n.data.accessToken,userId:n.data.userId,accessTokenExpiryEpochSeconds:n.data.accessTokenExpiryEpochSeconds}}})}else(0,d.M8)(null),(0,d.nP)(null),o({type:"INITIAL",payload:{user:null}})}catch(e){(0,d.M8)(null),(0,d.nP)(null),o({type:"INITIAL",payload:{user:null}})}},[]);(0,i.useEffect)(()=>{b()},[b]);let h=(0,i.useCallback)(async(e,t)=>{let n=s(),a=await (0,c.pH)(e,t,n);if(!a)throw(0,c.lH)();let i=null==a?void 0:a.userData,u=i.accountCountry;if(u.toLowerCase()!==n){let e=window.location.href.replace(n,u);r.push(e)}else window.location.href.includes("local")&&(0,d.M8)(i.accessToken),(0,d.nP)(i.accessToken),o({type:"LOGIN",payload:{user:{...a}}})},[r]),v=(0,i.useCallback)(async()=>{var e;let t=s(),n=null!==(e=(0,f.ej)(d.Wx))&&void 0!==e?e:"";window.location.href.includes("local")&&(0,d.M8)(null),(0,d.nP)(null),await (0,c.TX)(t,n),o({type:"LOGOUT"})},[]),y=n.user?"authenticated":"unauthenticated",m=n.loading?"loading":y,w=(0,i.useMemo)(()=>({user:n.user,method:"jwt",loading:"loading"===m,authenticated:"authenticated"===m,unauthenticated:"unauthenticated"===m,login:h,logout:v}),[h,v,n.user,m]);return(0,a.jsx)(u.V.Provider,{value:w,children:t})}},99114:function(e,t,n){"use strict";n.d(t,{M8:function(){return u},Wx:function(){return a},d9:function(){return i},nP:function(){return c}});var o=n(20505),r=n(42700);let a="accessToken",i="__returnUrl",u=e=>{e?(0,r.d8)(a,e):(0,r.nJ)(a)},c=e=>{e?o.ZP.defaults.headers.common.authorization="VIAPLAY-AT ".concat(e):delete o.ZP.defaults.headers.common.authorization}},31874:function(e,t,n){"use strict";n.d(t,{ConfigProvider:function(){return i},Z:function(){return u}});var o=n(27573),r=n(7653);n(20505);let a=(0,r.createContext)({config:{overviewAvailable:!1,redeemAvailable:!1,hasPurchaseLock:!1,helpAccountLink:"",footer:[]}}),i=e=>{let{children:t,config:n}=e;return(0,o.jsx)(a.Provider,{value:{config:n},children:t})},u=()=>{let e=(0,r.useContext)(a);if(!e)throw Error("useConfig must be used within a ConfigProvider");return e}},74469:function(e,t,n){"use strict";n.d(t,{Providers:function(){return k}});var o=n(27573),r=n(72457),a=n(81695),i=n(81138),u=n(7405),c=n(26772);let l=(0,i.extendTheme)({styles:{global:{"html, body":{bg:"background.0",color:"text.main"}},config:{initialColorMode:"dark",useSystemColorMode:!1}},...u,components:{...c}});var s=n(7653),d=n(26066);let f={se:"se",fi:"fi",dk:"dk",no:"no",is:"is",pl:"pl",nl:"com"},g=e=>f[e.toLowerCase()]||"com";var p=n(84277);let b=async e=>{let t=await (0,p.Z)(),n=d.Z.get("__Secure-Viaplay-Boid-exists"),o="https://boid.viaplay.".concat(g(e),"/boid/update/web/").concat(t.PIPELINE_BUILD_NUMBER);if("true"!==n)try{let e=await fetch(o,{method:"GET",credentials:"include"});(400===e.status||404===e.status)&&console.warn("Boid bad request",{name:"Bad request to service",message:e.status.toString(),url:o})}catch(e){}},h=async e=>{var t;let n=await (0,p.Z)();if(!(void 0!==(t=window).__tcfapi&&null!==t.__tcfapi)||!d.Z.get("OptanonAlertBoxClosed"))return null;let o="https://tcf-storage.viaplay.".concat(g(e),"/tcf-storage/store/web/").concat(n.PIPELINE_BUILD_NUMBER);return window.__tcfapi("getTCData",2,async e=>{try{let t=await fetch(o,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include",body:JSON.stringify({tcfString:e.tcString})});(400===t.status||404===t.status)&&console.warn("TCF-storage bad request",{name:"Bad request to service",message:t.status.toString(),url:o})}catch(e){}}),null};var v=n(85955);let y="develop"===n(68571).env.NEXT_PUBLIC_NODE_ENV,m=e=>{(0,s.useEffect)(()=>{if(b(e),!y||e!==v.UF)return;let t=()=>{h(e)};return window.addEventListener("OneTrustGroupsUpdated",t),()=>window.removeEventListener("OneTrustGroupsUpdated",t)},[e])};var w=n(26656);let x=e=>"Prod"===e?"production":"Stage"===e?"stage":"dev",I=new Map().set("404","404").set("500","500").set("index","start").set("redeem","redeem"),C=async(e,t,n,o)=>{(0,s.useEffect)(()=>{(async()=>{let r=I.get(n)||"redeem",a={name:"account",buildNumber:o.PIPELINE_BUILD_NUMBER,environment:x(o.VPC||"dev"),country:e.toLowerCase(),language:t.toUpperCase(),pushToGtmDataLayer:!0};(0,w.initCteClient)(a).catch(e=>console.warn("Error from initCteClient",e)),(0,w.updateSectionData)("account","account"),(0,w.updateViewData)(r,r),(0,w.viewDisplayedEvent)().catch(e=>console.warn("Error from viewDisplayedEvent",e))})()},[e,t,n,o])};function k(e){let{region:t,language:n,env:i,children:u}=e,c=(0,a.usePathname)();return m(t),C(t,n,c,i),(0,o.jsx)(r.ChakraProvider,{theme:l,children:u})}},62287:function(e,t,n){"use strict";n.d(t,{TranslationsProvider:function(){return a}});var o=n(27573),r=n(5712);let a=e=>{let{children:t,translations:n,locale:a}=e;return(0,o.jsx)(r.y.Provider,{value:{translations:n,locale:a,getKey:e=>{var t,o;if(!Array.isArray(n))return e;let r=null===(o=n.find(t=>t.key===e))||void 0===o?void 0:null===(t=o.translations.find(e=>e.languageCode===a))||void 0===t?void 0:t.translation;return null!=r?r:e}},children:t})}},26772:function(e,t,n){"use strict";n.r(t),n.d(t,{ArrowLeftIcon:function(){return g.Y4},BackCardIcon:function(){return g.JE},Button:function(){return a},CheckIcon:function(){return g.nQ},Checkbox:function(){return l},ChevronDownIcon:function(){return g.v4},CloseIcon:function(){return g.Tw},Container:function(){return T},DownloadIcon:function(){return g._8},EditIcon:function(){return g.dY},EyeOffIcon:function(){return g.Xl},EyeOnIcon:function(){return g.SS},Form:function(){return y},FrontCardIcon:function(){return g.A0},HamburgerIcon:function(){return g.Uq},HappyFaceIcon:function(){return g.ou},Heading:function(){return p},InfoIcon:function(){return g.sz},Input:function(){return f},KidsIcon:function(){return g.uR},LibraryIcon:function(){return g.Vq},LockIcon:function(){return g.mB},Menu:function(){return S},Modal:function(){return E},MoviesIcon:function(){return g.O},MyAccountIcon:function(){return g.$h},PhoneIcon:function(){return g.qW},PlayHistoryIcon:function(){return g.zT},PlayIcon:function(){return g.o1},ProfileIcon:function(){return g.m2},Select:function(){return x},SeriesIcon:function(){return g.Fi},SkeletonText:function(){return L},SportIcon:function(){return g.fy},StoreIcon:function(){return g.Vt},Text:function(){return I}});var o=n(44069);let r={bg:"neutral.disabled"},a=(0,o.fj)({baseStyle:{borderRadius:"lg",_disabled:{...r}},sizes:{lg:{fontSize:"lg",px:10},md:{fontSize:"md",px:6},sm:{fontSize:"sm",px:6}},variants:{primary:{bg:"magenta.default",_hover:{bg:"magenta.dark",_disabled:{...r}}},secondary:{bg:"neutral.80",_hover:{bg:"neutral.90",_disabled:{...r}}},secondary1:{bg:"neutral.70",_hover:{bg:"neutral.80",_disabled:{...r}}},secondary2:{bg:"neutral.60",_hover:{bg:"neutral.70",_disabled:{...r}}},mainAccount:{bg:"background.0",_hover:{bg:"background.hover",_disabled:{...r}}},link:{bg:"transparent",textDecoration:"underline",fontSize:"16px",fontWeight:"400"},menu:{height:14,width:"100%",px:4,textAlign:"left",bg:"background.2",fontSize:"16px",fontWeight:"500",_active:{borderBottomRadius:0}},header:{bg:"transparent",opacity:.6,_hover:{opacity:1}}},defaultProps:{size:"lg",variant:"primary"}});var i=n(68160);let{definePartsStyle:u,defineMultiStyleConfig:c}=(0,o.D)(i.TB.keys),l=c({baseStyle:u({control:{bg:"background.2",border:0,borderRadius:"2px",_checked:{_hover:{bg:"background.3"},_focus:{border:"2px solid",borderColor:"neutral.30"},bg:"background.2"},_focus:{border:"2px solid",borderColor:"neutral.30"},_hover:{bg:"background.3"}}}),sizes:{sm:{control:{boxSize:4}},md:{control:{boxSize:6},icon:{fontSize:"0.8em"}},lg:{control:{boxSize:8},icon:{fontSize:"1.1em"}}},defaultProps:{size:"md"}}),{definePartsStyle:s,defineMultiStyleConfig:d}=(0,o.D)(i.X.keys),f=d({baseStyle:s({field:{borderRadius:"lg",height:14,width:"full",paddingTop:3,bg:"background.2",color:"text.main",borderColor:"others.input-default",borderWidth:"none",boxShadow:"none",paddingRight:"10%",_focus:{borderColor:"text.main",boxShadow:"none",borderWidth:2},_placeholder:{color:"transparent"}}}),variants:{base:{},error:{field:{borderColor:"others.input-error",borderWidth:2,_focus:{borderColor:"others.input-error"}}},card:{field:{bg:"others.input-card"}}},defaultProps:{variant:"base"}});var g=n(94341);let p=(0,o.fj)({sizes:{xlg:{fontSize:"8xl",fontWeight:"extrabold"},lg:{fontSize:"6xl",fontWeight:"extrabold"},md:{fontSize:"4xl",fontWeight:"extrabold"},sm:{fontSize:"2xl",fontWeight:"extrabold"}},variants:{gradient:{bgGradient:"linear(to-tr, gradients.start, gradients.end)",bgClip:"text"},default:{color:"text.main"}},defaultProps:{size:"xlg",variant:"default"}}),{definePartsStyle:b,defineMultiStyleConfig:h}=(0,o.D)(i.TJ.keys),v={transform:"scale(0.85) translateY(-10px)"},y=h({variants:{floating:b({container:{_focusWithin:{label:{...v}},"input:not(:placeholder-shown) + label, .chakra-select__wrapper + label, textarea:not(:placeholder-shown) ~ label":{...v},label:{top:0,left:0,zIndex:2,position:"absolute",pointerEvents:"none",mx:5,px:0,my:3,transformOrigin:"left top"}}})},defaultProps:{variant:"floating"}}),{definePartsStyle:m,defineMultiStyleConfig:w}=(0,o.D)(i.nY.keys),x=w({baseStyle:m({field:{bg:"background.1",fontWeight:700,_focus:{border:"2px solid",borderColor:"neutral.10"},_disabled:{bg:"background.1",color:"neutral.opacity",opacity:1}}}),sizes:{md:{field:{height:"48px"}}},defaultProps:{variant:"base",size:"md"}}),I=(0,o.fj)({baseStyle:{wordBreak:"break-word"}}),{definePartsStyle:C,defineMultiStyleConfig:k}=(0,o.D)(i.rk.keys),S=k({baseStyle:C({list:{bg:"background.2",border:0,position:"relative",top:"-8px",borderTopRadius:0,maxH:"300px",overflowY:"auto"},item:{bg:"background.2",_hover:{textDecoration:"underline"}}}),sizes:{},variants:{},defaultProps:{}}),{definePartsStyle:P,defineMultiStyleConfig:_}=(0,o.D)(i.wl.keys),E=_({baseStyle:P({dialog:{bg:"background.1"},header:{textAlign:"center",marginTop:10,fontSize:"32px",fontWeight:"800"},body:{textAlign:"center",marginX:20},footer:{justifyContent:"center",marginBottom:4},closeButton:{bg:"background.5",color:"background.1",borderRadius:"full",width:"24px",height:"24px",margin:1,fontSize:"xx-small"}}),defaultProps:{size:"2xl"}}),T=(0,o.fj)({variants:{block:{bgColor:"background.1",borderRadius:12,maxW:"4xl",py:10,mb:4}}}),L=(0,o.fj)({variants:{primary:{startColor:"red",endColor:"neutral.70"}}})},20505:function(e,t,n){"use strict";n.d(t,{Du:function(){return l},ET:function(){return d},Hv:function(){return f},Mt:function(){return s},Yn:function(){return c},_i:function(){return u}});var o=n(13908),r=n(84277);let a=!1,i=async()=>{if(!a){var e;let t=await (0,r.Z)();o.Z.defaults.baseURL=f.account.base(null!==(e=t.VPC)&&void 0!==e?e:""),o.Z.interceptors.response.use(e=>e,e=>Promise.reject(e)),a=!0}};t.ZP=o.Z;let u=async e=>{await i();let[t,n]=Array.isArray(e)?e:[e];return(await o.Z.get(t,{...n})).data},c=async e=>(await i(),(await o.Z.get(e)).data),l=async(e,t)=>(await i(),(await o.Z.post(e,t)).data),s=async(e,t)=>(await i(),(await o.Z.put(e,t)).data),d=async(e,t,n)=>{var a;let i=await (0,r.Z)(),u="".concat(f.login.base(null!==(a=i.VPC)&&void 0!==a?a:"",t),"/").concat(e);return(await o.Z.post(u,n,{withCredentials:!0}).catch(e=>{if(e.response){var t;throw null==e?void 0:null===(t=e.response)||void 0===t?void 0:t.data}throw e})).data},f={translations:{base:e=>"https://".concat(g(e),"viaplay.com/translation-solution/account/").concat(p(e),"/translations.json")},login:{base:(e,t)=>"https://login.".concat("CI"===e?"qa.dev.":g(e),"viaplay.").concat(t,"/api"),login:(e,t)=>"login/v1?username=".concat(e,"&deviceKey=pcdash-").concat(t,"&refresh=true&persistent=true"),logout:e=>"logout/v1?deviceKey=pcdash-".concat(e),auth:"validateAccessToken/v3"},account:{base:e=>b(e),config:"/config",userSettings:"/user-settings",apply:"/contracts/apply",redeem:(e,t,n)=>"/redeem?voucherCode=".concat(e,"&userGuid=").concat(t,"&countryCode=").concat(n),users:{decrypt:e=>"/users/decrypt?token=".concat(e)}},checkout:{base:(e,t)=>"https://checkout.".concat(g(e),"viaplay").concat(t)}},g=e=>{let t=null==e?void 0:e.toLowerCase();return"ci"===t||"dev"===t||"local"===t?"ci.":"stage"===t?"stage.":""},p=e=>{let t=null==e?void 0:e.toLowerCase();return"stage"===t||"prod"===t?"master":"develop"},b=e=>"local"===e.toLowerCase()?"http://localhost:3000":"https://account.".concat(g(e),"mtg-api.com")},42700:function(e,t,n){"use strict";n.d(t,{d8:function(){return a},ej:function(){return r},nJ:function(){return i}});var o=n(26066);let r=e=>o.Z.get(e),a=(e,t)=>o.Z.set(e,t),i=e=>o.Z.remove(e)},85955:function(e,t,n){"use strict";n.d(t,{UF:function(){return a},zC:function(){return r}});let o={"en-GB":"GBP","da-DK":"DKK","fi-FI":"EUR","is-IS":"ISK","nb-NO":"NOK","nl-NL":"EUR","no-NO":"NOK","pl-PL":"PLN","sv-SE":"SEK"},r=e=>o[e]||"SEK",a="se"}},function(e){e.O(0,[689,553,240,187,991,656,860,431,607,293,528,744],function(){return e(e.s=97442)}),_N_E=e.O()}]);